<div>
  {{#each beds}}
  <div class="card" style="margin-top:10px;">
    <div class="card-body">
      <table style="width:100%;">
        <tbody>
          <tr>
            <td>
              <h3 class="card-title">BED {{id}}</h3>
            </td>
            <td style="text-align: right">
              <!-- Delete -->
              <button class="btn btn-sm btn-danger text-white" type="button" onclick="deleteBed(this, {{id}})">
                Delete Bed
              </button>
            </td>
          </tr>
        </tbody>
      </table>
      <div class="d-flex flex-wrap" id="leds">

        {{#each leds}}
        <a class="" style="margin:2px; width:20px; height:20px; background-color: rgb({{r}}, {{g}}, {{b}}); border: 1px solid black">
        </a>
        <p style="margin:2px; width:20px; height:20px;">{{strip_idx}}</p>
        {{/each}}

      </div>
    </div>
  </div>
  {{/each}}

  <div class="card" style="margin-top:10px;">
    <div class="card-body">
      <h3 class="card-title">Submit Info</h3>

      <div class="input-group mb-3">
        <div class="input-group-prepend">
          <span class="input-group-text" id="inputGroup-sizing-default">Number of LEDs</span>
        </div>
        <input id="numLeds" type="text" class="form-control" name="leds">
        <div class="input-group-append">
          <button class="btn btn-outline-primary" type="button" onclick="postBed(this)">Add Bed</button>
        </div>
      </div>

    </div>
  </div>

</div>


<script type="text/javascript">
  function postBed(e) {
    $.ajax({
      type: 'POST',
      url: '/postBed',
      data: { "leds": $('#numLeds').val() },
      success: function (data) {
        location.reload();
      }
    });
  }

  function deleteBed(e, id) {
    $.ajax({
      type: 'DELETE',
      url: '/deleteBed/' + id,
      success: function (data) {
        location.reload();
      }
    });
  }
</script>